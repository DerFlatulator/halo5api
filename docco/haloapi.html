<!DOCTYPE html>

<html>
<head>
  <title>haloapi.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>haloapi.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>This package is a JavaScript client of the Halo 5 Developer’s API [Beta], written in TypeScript (a superset of JavaScript) and transpiled into a Node JS module.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>It provides one function for each endpoint, returning a promise. There are some additional functions that offer alternate access to some endpoints.</p>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h1 id="links">Links</h1>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <table cellpadding=5>
<tr>
<td> <a href="https://www.npmjs.com/package/haloapi" title="NPM Package"><img src="https://logo.clearbit.com/npmjs.com" alt="NPM"></a> </td>
<td> <a href="https://derflatulator.github.io/haloapi.js/typedoc/" title="Documentation"><img src="http://typedoc.io/assets/images/logo-128.png" alt="Documentation"></a> </td>
</tr>
<tr>
<td><a href="https://www.npmjs.com/package/haloapi">NPM Package</a></td>
<td><a href="http://haloapi.js.org/typedoc/">Full Documentation</a></td>
</tr>
<tr><td colspan=2></td></tr>
<tr>
<td><a href="https://github.com/DerFlatulator/haloapi.js" title="GitHub"><img src="https://logo.clearbit.com/github.com" alt="GitHub"></a> </td>
<td><a href="https://www.halowaypoint.com/en-us/forums/01b3ca58f06c4bd4ad074d8794d2cf86/topics/binding-javascript-node-js-module/bc2b9b9a-cef3-4394-b56e-523eb68aa9e6/posts" title="Halo Waypoint Thread"><img src="https://logo.clearbit.com/halowaypoint.com" alt="Halo Waypoint"></a> </td>
</tr>
<tr>
<td><a href="https://github.com/DerFlatulator/haloapi.js">GitHub Repository</a></td>
<td><a href="https://www.halowaypoint.com/en-us/forums/01b3ca58f06c4bd4ad074d8794d2cf86/topics/binding-javascript-node-js-module/bc2b9b9a-cef3-4394-b56e-523eb68aa9e6/posts">Waypoint Thread</a></td>
</table>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h1 id="installation">Installation</h1>

            </div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>This project can be installed as a node module with NPM.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
$ npm install haloapi --save</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>If you don’t have Node or NPM, go ahead and <a href="https://nodejs.org/en/download/">install it</a>.</p>

            </div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p><em>Requires Node version <code>0.11</code> or later.</em></p>

            </div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h1 id="initialization">Initialization</h1>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Create an instance of the API client, providing your API key.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> api = <span class="hljs-keyword">new</span> (<span class="hljs-built_in">require</span>(<span class="hljs-string">"haloapi"</span>))(<span class="hljs-string">'YOUR API KEY HERE'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>That is a shortcut for this.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> HaloAPI = <span class="hljs-built_in">require</span>(<span class="hljs-string">"haloapi"</span>);
<span class="hljs-keyword">var</span> api = <span class="hljs-keyword">new</span> HaloAPI(<span class="hljs-string">'YOUR API KEY HERE'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <h2 id="persistent-caching-redis-">Persistent Caching (redis)</h2>

            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><a href="https://redis.io/">Redis</a> caching is currently supported and when opten-in 
will automatically cache any response that isn’t expected to be modified. 
This includes all metadata endpoints and some stats endpoints, such as the 
response from a request for a match by ID.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> api = <span class="hljs-keyword">new</span> HaloAPI({
    apiKey: <span class="hljs-string">'YOUR API KEY HERE'</span>,
    cache: <span class="hljs-string">'redis'</span>,
    cacheOptions: {} <span class="hljs-comment">// or ['url', {options...}]</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>As redis is optional, you need to install the client if you want to use it.
To do so, do an <code>npm install redis</code>.</p>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>The <code>cacheOptions</code> are passed directly to the <code>createClient(...)</code> redis
function. If you’re running a stock redis server, you won’t need to pass
the <code>cacheOptions</code> object. Otherwise you can pass either an object or a 
list that will be passed to one of the <code>redis.createClient</code> overloads.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-comment">/* 
 * Redis client overloads:
 *   redis.createClient()
 *   redis.createClient(options)
 *   redis.createClient(unix_socket, options)
 *   redis.createClient('redis://user:pass@host:port', options)
 *   redis.createClient(port, host, options)
 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>See <a href="https://www.npmjs.com/package/redis#overloading">here</a> for further
information. </p>

            </div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <h3 id="clearing-the-cache">Clearing the Cache</h3>

            </div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>You may at any time clear the cache. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre> 
api.cacheClear().then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
    <span class="hljs-built_in">console</span>.log(n, <span class="hljs-string">'items in cache were removed.'</span>);
});</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Additional caches and database support may come in the future, 
along with the ability to remove a specific entry from the cache. </p>

            </div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <h1 id="making-requests">Making Requests</h1>

            </div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Instances of <code>HaloAPI</code> comprises three instances (objects) that you will 
be using. <code>metadata</code>, <code>stats</code>, and <code>profile</code>. These correspond to the three
API services provided at 
<a href="http://developer.haloapi.com/">developer.haloapi.com</a>.</p>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Each of these three objects consist of a number of functions that will 
make a request to the Halo API and parse the response. In general these
will be of the form <code>api.&lt;service&gt;.&lt;endpoint&gt;(&lt;params...&gt;)</code>. For example:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre> 
api.profile.spartanImage(<span class="hljs-string">"Major Nelson"</span>);
api.stats.playerMatches(<span class="hljs-string">"Major Nelson"</span>);
api.metadata.commendations();</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>All of these functions return a Promise. Promises are mechanisms for 
receiving results from an asynchronous call, without providing a 
callback as a parameter. The standard API for handling promises is:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> promise = getSomePromise();
promise.then(successHandler).catch(errorHandler);</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Where <code>successHandler</code> and <code>errorHandler</code> are both functions to be
invoked with results or errors. </p>

            </div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>As all our functions return promises, we can handle the results in 
like this:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.weapons()
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">weapons</span>) </span>{
        <span class="hljs-comment">/* do something with `weapons` */</span>
    })
    .catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{
        <span class="hljs-comment">/* do something with `error` */</span>
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p><code>error</code> will usually have be an object 
containing a <code>message</code> and <code>statusCode</code>.         </p>

            </div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>The above is ECMAScript 5 compatible. If you are writing using ECMAScript 
2015 (aka ES6), you may remove some clutter by using lambdas. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.weapons()
    .then(weapons =&gt; {
        <span class="hljs-comment">/* do something with `weapons` */</span>
    })
    .catch(error =&gt; {
        <span class="hljs-comment">/* do something with `error` */</span>
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>And if you are using ECMAScript 2016 (ES7), you can use the async/await
syntax to reduce it down to this.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">var</span> weapons = <span class="hljs-keyword">await</span> api.metadata.weapons();
    <span class="hljs-comment">/* do something with `weapons` **/</span>
} <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">/* do something with `error` */</span>    
}</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Excellent. For the rest of this document, for brevity, we will ommit error
handling, and provide basic usage for each of the functions available. </p>

            </div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <h1 id="list-of-endpoints">List of Endpoints</h1>

            </div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <h2 id="metadata-endpoints">Metadata Endpoints</h2>

            </div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>These APIs will provide access to Metadata. Use them to translate IDs
from other APIs. All Metadata APIs support all locales that are supported
by the game.</p>

            </div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Get all campaign missions, and log the name.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.campaignMissions()
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">missions</span>) </span>{
        missions.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mission</span>) </span>{
            <span class="hljs-built_in">console</span>.log(mission.name);
        });
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Get all commendations.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.commendations().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Get all CSR Designations (Ranks and Tiers).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.csrDesignations().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Get all campaign enemies.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.enemies().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Get all flexible statistic metadata. Impulses and medals.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.flexibleStats().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Get all base game variants (game types).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.gameBaseVariants().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Get a specific game variant. IDs for this endpoint can be obtained from 
the <code>api.stats.playerMatches</code> endpoint.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.gameVariantById(<span class="hljs-string">"963ca478-369a-4a37-97e3-432fa13035e1"</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">gameVariant</span>) </span>{
        <span class="hljs-built_in">console</span>.log(gameVariant.name); <span class="hljs-comment">// -&gt; "Slayer"</span>
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Get all impulses (invisible medals such as “kill” and “assist”).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.impulses().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Get all base maps.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.maps().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Get a map variant by its ID guid. These IDs can be obtained from 
<code>api.stats.playerMatches</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.mapVariantById(<span class="hljs-string">"a44373ee-9f63-4733-befd-5cd8fbb1b44a"</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">map</span>) </span>{
        <span class="hljs-built_in">console</span>.log(map.name); <span class="hljs-comment">// -&gt; "Truth"</span>
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Get a list of all medals. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.medals().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Get playlists (hoppers).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.playlists().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Get a requisition (card) by ID. These IDs can be obtained from
rank rewards in <code>api.metadata.spartanRanks</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.requisitionById(<span class="hljs-string">"e4f549b2-90af-4dab-b2bc-11a46ea44103"</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req</span>) </span>{
        <span class="hljs-built_in">console</span>.log(req.name); <span class="hljs-comment">// -&gt; "10 RP"</span>
        <span class="hljs-built_in">console</span>.log(req.description); <span class="hljs-comment">// -&gt; "Claim 10 REQ Points."</span>
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Get a requisition pack by ID. Requisition packs include those purchasable,
and those obtained by unlocking ranks and commendations. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.requisitionPackById(<span class="hljs-string">"d10141cb-68a5-4c6b-af38-4e4935f973f7"</span>)
    .then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>Get an array containing three packs, Gold, Silver and Bronze. 
Underling this funciton are three separate calls to 
<code>api.metadata.requisitionById</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.requisitionPacksPurchasable()
    .then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Get all arena seasons</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.seasons().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Get all skulls from the campaign.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.skulls().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Get all spartan ranks. Useful for determining rewards for ranking up.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre> 
api.metadata.spartanRanks().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>Get all teams colors for multiplayer. Red, green, blue, etc. 
Also provides images for each team.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.teamColors().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Get an array of all vehicles in the game. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.vehicles().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>Get an array of all weapons in the game. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.metadata.weapons().then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <h2 id="stats-endpoints">Stats Endpoints</h2>

            </div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>These APIs provide statistical data about players and matches.</p>

            </div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p><strong>NEW</strong> Retrieve game events for a match.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.events(<span class="hljs-string">"58976373-026c-4b31-8e79-cb6e9e3a1bbb"</span>).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Retreive most recent matches by a player. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.playerMatches(<span class="hljs-string">"Frankie"</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
        data.Results.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match</span>) </span>{
            <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(match.MatchCompletedDate.ISO8601Date);
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Match Completed on "</span> + date.toDateString());
        })
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>Additional options are available on this endpoint, to make use of them
pass an options object instead of a string.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.playerMatches({
    player: <span class="hljs-string">"Frankie"</span>,
    modes: <span class="hljs-string">"arena,warzone"</span>,
    start: <span class="hljs-number">10</span>,
    count: <span class="hljs-number">20</span>
}).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Get the post game carnaage report for an arena game. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.arenaMatchById(<span class="hljs-string">"1ad1cdec-a86a-4e2c-94d5-cab180b55eea"</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match</span>) </span>{
        <span class="hljs-built_in">console</span>.log(match.TeamStats);
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>The same is available for <code>warzone</code>, <code>custom</code>, and <code>campaign</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.warzoneMatchById(<span class="hljs-string">'...'</span>).then(<span class="hljs-built_in">console</span>.log);
api.stats.customMatchById(<span class="hljs-string">'...'</span>).then(<span class="hljs-built_in">console</span>.log);
api.stats.campaignMatchById(<span class="hljs-string">'...'</span>).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Get a player’s service record for arena.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.serviceRecordArena(<span class="hljs-string">"Major Nelson"</span>)
    .then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>The same is available for <code>warzone</code>, <code>custom</code>, and <code>campaign</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.stats.serviceRecordWarzone(<span class="hljs-string">"..."</span>).then(<span class="hljs-built_in">console</span>.log);
api.stats.serviceRecordCustom(<span class="hljs-string">"..."</span>).then(<span class="hljs-built_in">console</span>.log);
api.stats.serviceRecordCampaign(<span class="hljs-string">"..."</span>).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>The above four functions have partners that return multiple service 
records, one for each player. Note the <code>s</code> in <code>Records</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> players = [ <span class="hljs-string">"Frankie"</span>, <span class="hljs-string">"Major Nelson"</span> ];
api.stats.serviceRecordsArena(players).then(<span class="hljs-built_in">console</span>.log);
api.stats.serviceRecordsWarzone(players).then(<span class="hljs-built_in">console</span>.log);
api.stats.serviceRecordsCustom(players).then(<span class="hljs-built_in">console</span>.log);
api.stats.serviceRecordsCampaign(players).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <h2 id="profile-endpoints">Profile Endpoints</h2>

            </div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>These APIs provide profile data for players.</p>

            </div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>Get a URL that points to an image of a player’s in-game emblem.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.profile.emblemImage(<span class="hljs-string">"Frankie"</span>).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>Additionally, you can specify the size of the emblem.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.profile.emblemImage({
    player: <span class="hljs-string">"Frankie"</span>,
    size: <span class="hljs-number">512</span> <span class="hljs-comment">// Default 256. Options 95, 128, 190, 256, 512.</span>
}).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>Get a URL that points to an image of the player’s in-game spartan.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.profile.spartanImage(<span class="hljs-string">"Frankie"</span>).then(<span class="hljs-built_in">console</span>.log);</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>Similarly, you can pass an options object to specify size and crop.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
api.profile.spartanImage({
    player: <span class="hljs-string">"Frankie"</span>,
    size: <span class="hljs-number">512</span>, <span class="hljs-comment">// Default 256. Options 95, 128, 190, 256, 512.</span>
    crop: <span class="hljs-string">"portrait"</span> <span class="hljs-comment">// Default "full", options "full", "portrait"</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <h1 id="json-schemas">JSON Schemas</h1>

            </div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>This package integrates with 
<a href="https://github.com/DerFlatulator/haloapi-schema">haloapi-schema</a>, 
a package containing schemas to define the shape of responses from the API.
These schemas are used in test cases, but can also be accessed
using the <code>api.jsonSchema(endpointFunction)</code> function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> commendationsSchema = api.jsonSchema(api.metadata.commendations);</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>You can use the <code>json-schema</code> npm package to perform validation.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> validate = <span class="hljs-built_in">require</span>(<span class="hljs-string">'json-schema'</span>).validate;
api.metadata.commendations()
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">commendations</span>) </span>{
        <span class="hljs-keyword">var</span> validation = validate(commendations, commendationsSchema);
        <span class="hljs-keyword">if</span> (validation.valid) {
            <span class="hljs-comment">/* success! */</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">/* validation errors :( */</span> 
            validation.errors.forEach(<span class="hljs-built_in">console</span>.log);
        }
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <h1 id="feedback-and-support">Feedback and Support</h1>

            </div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>If you have any feedback or issues, feel free to 
<a href="https://github.com/DerFlatulator/haloapi.js/issues">open an issue</a>,
post in <a href="https://www.halowaypoint.com/en-us/forums/01b3ca58f06c4bd4ad074d8794d2cf86/topics/binding-javascript-node-js-module/bc2b9b9a-cef3-4394-b56e-523eb68aa9e6/posts">the Waypoint thread</a>
or, tweet me <a href="https://twitter.com/DerFlatulator">@DerFlatulator</a>.</p>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
